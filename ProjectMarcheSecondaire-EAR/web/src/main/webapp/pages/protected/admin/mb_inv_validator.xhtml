<!-- Inspiré de http://getbootstrap.com/2.3.2/getting-started.html#examples -->
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'
	xmlns:f='http://java.sun.com/jsf/core'
	xmlns:h='http://java.sun.com/jsf/html'
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui='http://java.sun.com/jsf/facelets'>
<h:head>
	<!-- css -->
	<h:outputStylesheet library='css' name='bootstrap.css' />
	<h:outputStylesheet library='css' name='bootstrap-responsive.css' />
	<h:outputStylesheet library='css' name='bootstrap.css' />
	<!-- 	jquery -->
	<h:outputScript library='js' name="jquery/jquery.js" />
	<h:outputScript library='js' name="bootstrap.js" />
	<!-- Le styles -->
	<style type="text/css">
body {
	padding-top: 60px;
	padding-bottom: 40px;
	display: block;
	margin-left: auto;
	margin-right: auto
}

.sidebar-nav {
	padding: 9px 0;
}

@media ( max-width : 980px) {
	/* Enable use of floated navbar text */
	.navbar-text.pull-right {
		float: none;
		padding-left: 5px;
		padding-right: 5px;
	}
}
</style>
</h:head>

<body>
	<h:form>
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<button type="button" class="btn btn-navbar">
						<span class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<!-- 					<a class="brand" href="#recherche">Recherche</a> -->

					<div class="nav-collapse collapse">
						<p class="navbar-text pull-right">
							#{userMB.user.login.toUpperCase()} Cliquez ici pour vous
							déconnecter
							<h:commandLink styleClass="btn btn-danger"
								action="#{userMB.userLogout}" value="Logout"></h:commandLink>
						</p>
						<ul class="nav">
							<li><h:commandLink
									action="#{navigationController.pageAcceuil()}" value="Home"></h:commandLink>
							</li>
<!-- 							<li><a href="#about">About</a></li> -->
<!-- 							<li><a href="#contact">Contact</a></li> -->
<!-- 							<li><a style="font-weight: bold;" href="#recherche">Rechercher</a></li> -->
						</ul>
					</div>
					<!--/.nav-collapse -->

				</div>
			</div>
		</div>
	</h:form>

	<div class="container">

		<!-- -->
		<div class="hero-unit">
			<h1>Hello, #{userMB.admin.prenom} #{userMB.admin.nom} !</h1>
			<p style="color: blue; font-style: italic; font-weight: bold;">Valider
				le profil des Investisseurs et des Membres de Sociétés.</p>
			<hr />
			<!-- 			<h:outputLink styleClass="btn btn-small btn-success" -->
			<!-- 				action="#{panneauAdminMB.refreshPan()}">Refresh</h:outputLink> -->
		</div>
		<center>
			<div class="tabbable">
				<!-- Only required for left/right tabs -->
				<ul class="nav nav-tabs">
					<li class="active"><a href="#tab1" data-toggle="tab">Investisseurs à approuver
					</a></li>
					<li><a href="#tab2" data-toggle="tab">Membres société à approuver</a></li>
					<li><a href="#tab3" data-toggle="tab">Liste de tous les Investisseurs approuvés
					</a></li>
					<li><a href="#tab4" data-toggle="tab">Liste de tous les Membres de société approuvés</a></li>
				</ul>
				
				<div class="tab-content">
					<div class="tab-pane active" id="tab1">
						<!-- 						tab des invest -->

						<h:form>
							<table class="table">
								<tr style="font-weight: bold;">
									<td>Nom</td>
									<td>Prénom</td>
									<td>Email</td>
									<td>Status</td>
									<td>Approuver</td>
									<td>Valider</td>
								</tr>
								<c:set var="buttonVal1" value="false"/>
								<c:forEach var="item" items="#{panneauAdminMB.invests}">

									<c:if test="#{item.isApproved == 'WAITING'}">
									<c:set var="buttonVal1" value="true"/>
										<tr>
											<td><h:outputText value="${item.nom}" /></td>
											<td><h:outputText value="${item.prenom}" /></td>
											<td><h:outputText value="${item.user.email}" /></td>
											<td><h:outputText value="${item.user.type}" /></td>
											<td><h:selectOneMenu value="#{item.isApproved}">
													<f:selectItem itemValue="WAITING" itemLabel="WAITING" />
													<f:selectItem itemValue="APPROVED" itemLabel="APPROVED" />
												</h:selectOneMenu></td>

										</tr>

									</c:if>
								</c:forEach>
								<tr>
									<td>
<!-- 									<h:commandButton -->
<!-- 											styleClass="btn btn-large btn-success" value="Retour" -->
<!-- 											action="#{navigationController.pageAcceuil()}" /> -->
											</td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
									<td>
									<c:if test="#{buttonVal1==true}">
									<h:commandButton
											styleClass="btn btn-large btn-primary" value="Valider"
											action="#{panneauAdminMB.validatorI()}" />
									</c:if>
											</td>
								</tr>

							</table>
						</h:form>

					</div>

					<!-- 					Panneaux tab Membre soiété -->
					<div class="tab-pane" id="tab2">

						<h:form>
							<table class="table">
								<tr style="font-weight: bold;">
									<td>Nom</td>
									<td>Prénom</td>
									<td>Email</td>
									<td>Status</td>
									<td>Société</td>
									<td>Approuver</td>
									<td>Valider</td>
								</tr>
								<c:set var="buttonVal2" value="false"/>
								<c:forEach var="item1" items="#{panneauAdminMB.membres}">

									<c:if test="#{item1.isApproved == 'WAITING'}">
									<c:set var="buttonVal2" value="true"/>
										<tr>
											<td><h:outputText value="${item1.nom}" /></td>
											<td><h:outputText value="${item1.prenom}" /></td>
											<td><h:outputText value="${item1.user.email}" /></td>
											<td><h:outputText value="${item1.user.type}" /></td>
											<td><h:outputText value="${item1.societe.nom}" /></td>
											<td><h:selectOneMenu value="#{item1.isApproved}">
													<f:selectItem itemValue="WAITING" itemLabel="WAITING" />
													<f:selectItem itemValue="APPROVED" itemLabel="APPROVED" />
												</h:selectOneMenu></td>

										</tr>

									</c:if>
								</c:forEach>
								<tr>
									<td>
<!-- 									<h:commandButton -->
<!-- 											styleClass="btn btn-large btn-success" value="Retour" -->
<!-- 											action="#{navigationController.pageAcceuil()}" /> -->
											</td>
									<td></td>
									<td></td>
									<td></td><td></td>
									<td></td>
									<td>
									<c:if test="#{buttonVal2==true}">
									<h:commandButton
											styleClass="btn btn-large btn-primary" value="Valider"
											action="#{panneauAdminMB.validatorM()}" />
									</c:if>
									</td>
								</tr>

							</table>
						</h:form>
					</div>
					
					<div class="tab-pane" id="tab3">
						<!-- 						tab des invest -->

						<h:form>
							<table class="table">
								<tr style="font-weight: bold;">
									<td>Nom</td>
									<td>Prénom</td>
									<td>Email</td>
									<td>Status</td>
									<td>Approuver</td>
								</tr>

								<c:forEach var="item" items="#{panneauAdminMB.invests}">

									<c:if test="#{item.isApproved == 'APPROVED'}">
										<tr>
											<td><h:outputText value="${item.nom}" /></td>
											<td><h:outputText value="${item.prenom}" /></td>
											<td><h:outputText value="${item.user.email}" /></td>
											<td><h:outputText value="${item.user.type}" /></td>
											<td><h:outputText value="#{item.isApproved}" /></td>
										</tr>

									</c:if>
								</c:forEach>
								<tr>
									<td>
<!-- 									<h:commandButton -->
<!-- 											styleClass="btn btn-large btn-success" value="Retour" -->
<!-- 											action="#{navigationController.pageAcceuil()}" /> -->
											</td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>

							</table>
						</h:form>
					</div>
					<!-- 					Panneaux tab Membre soiété -->
					<div class="tab-pane" id="tab4">

						<h:form>
							<table class="table">
								<tr style="font-weight: bold;">
									<td>Nom</td>
									<td>Prénom</td>
									<td>Email</td>
									<td>Status</td>
									<td>Approuver</td>
								</tr>

								<c:forEach var="item1" items="#{panneauAdminMB.membres}">
									<c:if test="#{item1.isApproved == 'APPROVED'}">
										<tr>
											<td><h:outputText value="${item1.nom}" /></td>
											<td><h:outputText value="${item1.prenom}" /></td>
											<td><h:outputText value="${item1.user.email}" /></td>
											<td><h:outputText value="${item1.user.type}" /></td>
											<td><h:outputText value="#{item1.isApproved}" /></td>
										</tr>
									</c:if>
								</c:forEach>
								<tr>
									<td>
<!-- 									<h:commandButton -->
<!-- 											styleClass="btn btn-large btn-success" value="Retour" -->
<!-- 											action="#{navigationController.pageAcceuil()}" /> -->
											</td>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>

							</table>
						</h:form>
					</div>
				</div>
			</div>
		</center>
		<hr />
	</div>

	<!-- /container -->
</body>
<h:outputScript target="head">
	/**
 * Fichier javascript pour le panneaux de configuration
 */
$ = jQuery;
// Then you can use it
$(document)
		.ready(
				function() {
					$('.nav').button();
					var lien = $(location).attr('href').split("#");
					//alert("Bienvenue sur le paneaux d'aministration #{userMB.admin.prenom}");
					if(typeof myVar == 'undefined'){
						$('#home').addClass("active");
					}
				});
</h:outputScript>
</html>
